# Tests if refinement types are pickled correctly so they
# do not introduce unnecessary compile iterations
# See https://issues.scala-lang.org/browse/SI-6596

# introduces first compile iteration
> compile
# this change is local to method and does not change api so introduces
# only one additional compile iteration
$ copy-file changes/Impl1.scala src/main/scala/Impl.scala
# here we should have 2 iterations dumped
> compile-and-dump-analysis
$ must-mirror analysis-dump.expected target/analysis-dump.txt
